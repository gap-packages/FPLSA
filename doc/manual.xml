<Chapter Label="The FPLSA Package">
<Heading>The FPLSA Package</Heading>

This chapter describes the &GAP; package &FPLSA; ,
an interface to the <C>fplsa</C> program by V.&nbsp;Gerdt and V.&nbsp;Kornyak (version 4)
for the computation with finitely presented Lie superalgebras.
<P/>
At present &GAP; uses only the facility to compute a structure constants
table of a finite dimensional Lie algebra over the rationals
that is given by a finite presentation.
<P/>
The package uses an external binary,
probably it will only work on UNIX platforms. 
<P/>

<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<Section Label="Main Functions">
<Heading>Main Functions</Heading>

A finitely presented Lie algebra is a quotient of a free Lie algebra
by an ideal generated by a finite number of elements.
In &GAP; a free Lie algebra can be created by the command <C>FreeLieAlgebra</C>;
we refer to the &GAP; Reference Manual for more details.
A finitely presented Lie algebra
<A>K</A> can be constructed by <C><A>K</A> := <A>L</A>/<A>rels</A></C>, where <A>L</A> is a free Lie algebra
and <A>rels</A> a list of elements of <A>L</A> that constitute the relations 
that hold in <A>K</A>. Given a finitle presented Lie algebra we want to calculate 
a basis and a multiplication table of it. The interface to the &FPLSA;
package comes with two related functions for doing that. 
<P/>

<ManSection>
<Func Name="SCAlgebraInfoOfFpLieAlgebra" Arg="L, rels, limit, words, rels"/>
<Description>
Let <A>L</A> be a free Lie algebra over the rationals,
<A>rels</A> a list of elements in <A>L</A>,
<A>limit</A> a positive integer 
and <A>words</A> and <A>rels</A> two booleans.
<P/>
If the algebra <C><A>L</A> / <A>rels</A></C> is finite-dimensional and if a basis of
this algebra can be constructed using elements in <A>L</A> that involve only
words of length at most <A>limit</A> then <C>SCAlgebraInfoOfFpLieAlgebra</C>
returns a record whose component <C>sc</C> contains an algebra that is
isomorphic with <C><A>L</A> / <A>rels</A></C>.
Otherwise <K>fail</K> is returned.
<P/>
The function calls the <C>fplsa</C> standalone.
<P/>
If <A>words</A> is <K>true</K> then the component <C>words</C> of the result record
contains a list of elements in <A>L</A> that correspond to the basis elements.
<P/>
If <A>rels</A> is <K>true</K> then the component <C>rels</C> of the result record
contains a list of reduced relators in <A>L</A> that describes how algebra
generators of <A>L</A> are expressed in terms of the basis elements.
<P/>
<Example><![CDATA[
gap> LoadPackage( "fplsa" );
true
gap> L:= FreeLieAlgebra( Rationals, "x", "y" );
<Lie algebra over Rationals, with 2 generators>
gap> g:= GeneratorsOfAlgebra( L );; x:= g[1];; y:= g[2];;
gap> rels:= [ x*(x*y) - x*y, y*(y*(x*y)) ];
[ (-1)*(x*y)+(1)*(x*(x*y)), (1)*(((x*y)*y)*y) ]
gap> SCAlgebraInfoOfFpLieAlgebra( L, rels, 100, true, true );
rec( sc := <Lie algebra of dimension 4 over Rationals>, 
  words := [ (1)*x, (1)*y, (1)*(y*x), (1)*((y*x)*y) ], 
  rels := [ (1)*((y*x)*x)+(1)*(y*x), (1)*(((y*x)*y)*y), (1)*(((y*x)*y)*(y*x)) 
     ] )
]]></Example>
</Description>
</ManSection>

<ManSection>
<Func Name=" IsomorphicSCAlgebra" Arg="K [,bound]"/>
<Description>
computes a Lie algebra given by a multiplication table isomorphic to the 
finitely presented Lie algebra <A>K</A>.
If the optional parameter <A>bound</A> is specified the computation will
be carried out using monomials of degree at most <A>bound</A>. 
If <A>bound</A> is not specified, then it will initially be set to
10000. If this does not suffice to calculate a multiplication tabel
of the algebra, then the bound will be increased until a multiplication
table is found.
  
If the computation was successful then a structure constants algebra
will be returned isomorphic to <A>K</A>.
Otherwise <K>fail</K> will be returned.
<P/>
<Example><![CDATA[
gap> LoadPackage( "fplsa" );
true
gap> L:= FreeLieAlgebra( Rationals, "x", "y" );
<Lie algebra over Rationals, with 2 generators>
gap> g:= GeneratorsOfAlgebra( L );; x:= g[1];; y:= g[2];;
gap> rels:= [ x*(x*y) - x*y, y*(y*(x*y)) ];
[ (-1)*(x*y)+(1)*(x*(x*y)), (1)*(((x*y)*y)*y) ]
gap> K:= L/rels;
<Lie algebra over Rationals, with 2 generators>
gap> IsomorphicSCAlgebra( K );
<Lie algebra of dimension 4 over Rationals>
]]></Example>
</Description>
</ManSection>

</Section>


<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<Section Label="Auxiliary Variables of FPLSA">
<Heading>Auxiliary Variables of FPLSA</Heading>

<ManSection>
<Var Name="FPLSA"/>
<Description>
<P/>
is the global record used by the functions in the package.
Besides components that describe parameters for the standalone,
the following components are used.
<List>
<Mark><C>Relation_size</C> </Mark>
<Item>

       parameter that controls the memory usage by the fplsa program,
</Item>
<Mark><C>Lie_monomial_table_size</C> </Mark>
<Item>
       parameter that controls the memory usage by the fplsa program,
</Item>
<Mark><C>Node_Lie_term_size</C> </Mark>
<Item>

       parameter that controls the memory usage by the fplsa program,
</Item>
<Mark><C>Node_scalar_factor_size</C> </Mark>
<Item>
       parameter that controls the memory usage by the fplsa program,
</Item>
<Mark><C>Node_scalar_term_size</C> </Mark>
<Item>
       parameter that controls the memory usage by the fplsa program,
</Item>
<Mark><C>progname</C> </Mark>
<Item>
    the file name of the executable,
</Item>
<Mark><C>T</C> </Mark>
<Item>
    structure constants table of the algebra under consideration,
</Item>
<Mark><C>words</C> </Mark>
<Item>
    list of elements in the free Lie algebra that correspond to the
    basis elements,
</Item>
<Mark><C>rels</C> </Mark>
<Item>
    list of relators in the free Lie algebra that are used to express
    redundant algebra generators in terms of the basis.
</Item>
</List>

<P/>
In order to be able to run the <C>fplsa</C> program successfully, it might be
necessary
to customize the parameters that control the memory the the program uses, 
to suit the computer the user is working on. In particular if the program exits
with an error message of the form: <C>Error, the process did not succeed</C>,
then it may be necessary to change these parameters.
<P/>
<Example><![CDATA[
gap> LoadPackage( "fplsa" );
true
gap> L:= FreeLieAlgebra( Rationals, "x", "y" );;
gap> g:= GeneratorsOfAlgebra( L );; x:= g[1];; y:= g[2];;
gap> rels:= [ x*(x*y) - x*y, y*(y*(x*y)) ];;
gap> SCAlgebraInfoOfFpLieAlgebra( L, rels, 100, true, true );;
gap> FPLSA;
rec( Relation_size := 2500000, Lie_monomial_table_size := 1000000, 
  Node_Lie_term_size := 2000000, Node_scalar_factor_size := 2000, 
  Node_scalar_term_size := 20000, progname := "fplsa4", 
  T := [ [ [ [  ], [  ] ], [ [ 3 ], [ -1 ] ], [ [ 3 ], [ 1 ] ], 
          [ [ 4 ], [ 1 ] ] ], 
      [ [ [ 3 ], [ 1 ] ], [ [  ], [  ] ], [ [ 4 ], [ -1 ] ], [ [  ], [  ] ] ],
      [ [ [ 3 ], [ -1 ] ], [ [ 4 ], [ 1 ] ], [ [  ], [  ] ], [ [  ], [  ] ] ],
      [ [ [ 4 ], [ -1 ] ], [ [  ], [  ] ], [ [  ], [  ] ], [ [  ], [  ] ] ], 
      -1, 0 ], words := [ 1, 2, [ 2, 1 ], [ [ 2, 1 ], 2 ] ], 
  rels := [ [ [ [ 2, 1 ], 1 ], 1, [ 2, 1 ], 1 ], 
      [ [ [ [ 2, 1 ], 2 ], 2 ], 1 ], [ [ [ [ 2, 1 ], 2 ], [ 2, 1 ] ], 1 ] ] )
]]></Example>
</Description>
</ManSection>

</Section>


<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<Section Label="Installing the FPLSA Package">
<Heading>Installing the FPLSA Package</Heading>

To install unpack the archive file in a directory in the <C>pkg</C> hierarchy
of your version of &GAP;.
(This might be the <C>pkg</C> directory of the &GAP; home directory;
it is however also possible to keep an additional <C>pkg</C> directory in your
private directories, see Section&nbsp;<Ref Sect="Installing a GAP Package" BookName="Reference"/>
of the &GAP; Reference Manual for details on how to do this.)
Go to the newly created <C>fplsa</C> directory and call <C>./configure <A>path</A></C>
where <A>path</A> is the path to the &GAP; home directory.
So for example if you install the package in the main <C>pkg</C> directory call
<Log><![CDATA[
./configure ../..
]]></Log>
This will fetch the architecture type for which &GAP; has been compiled last
and create a <C>Makefile</C>. 
Now simply call
<Log><![CDATA[
make
]]></Log>
to compile the binary and to install it in the appropriate place.
<P/>
If you use this installation of &GAP; on different hardware platforms you will
have to compile the binary for each platform separately. This is done by
calling <C>configure</C> and <C>make</C> for the package anew immediately after
compiling &GAP; itself for the respective architecture.
If your version of &GAP; is already compiled (and has last been compiled on
the same architecture) you do not need to compile &GAP;
again, it is sufficient to call the <C>configure</C> script in the &GAP; home
directory.
<P/>

<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %% -->
<!-- %E -->
<P/>
</Section>
</Chapter>
